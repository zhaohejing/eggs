<div ng-controller="views.advertisingrecord.index as vm">
    <div class="page-bar">
        <ul class="page-breadcrumb">
            <li>
                <i class="fa fa-hand-o-right"></i>

                <a href="#">广告发放记录</a>
            </li>
        </ul>
    </div>
    <div class="portlet light bordered">
        <div class="row">
            <div class="col-xs-8 text-left">
                <div class="col-md-4">
                    <div class="input-icon right">
                        <p class="input-group">
                            <input type="text" class="form-control" placeholder="开始时间"
                                   uib-datepicker-popup readonly
                                   ng-model="vm.filter.startTime"
                                   is-open="vm.date.leftopen"
                                   datepicker-options="vm.date.dateOptions"
                                   ng-required="true"
                                   current-text="今天"
                                    datetimepicker-neutral-timezone
                                   clear-text="清除"
                                   close-text="关闭" />
                            <span class="input-group-btn">
                                <button type="button" class="btn btn-default"
                                        ng-click="vm.date.openleft()">
                                    <i class="glyphicon glyphicon-calendar"></i>
                                </button>
                            </span>
                        </p>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="input-icon right">
                        <p class="input-group">
                            <input type="text" class="form-control" placeholder="结束时间"
                                   uib-datepicker-popup readonly ng-model="vm.filter.endTime"
                                   is-open="vm.date.rightopen"
                                   datepicker-options="vm.date.dateOptions"
                                   ng-required="true"
                                   current-text="今天"
                                    datetimepicker-neutral-timezone
                                   clear-text="清除"
                                   close-text="关闭" />
                            <span class="input-group-btn">
                                <button type="button" class="btn btn-default"
                                        ng-click="vm.date.openright()">
                                    <i class="glyphicon glyphicon-calendar"></i>
                                </button>
                            </span>
                        </p>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="input-icon right">
                        <i ng-click="vm.init()" class="fa fa-search"></i>
                        <input type="text" class="form-control input-circle" placeholder="按条件搜索" ng-model="vm.filter.name">
                    </div>
                </div>
            </div>
            <div class="col-xs-4 text-right">
                <button class="btn btn-primary blue" ng-click="vm.offline()"><i class="fa fa-plus"></i> 立即下线</button>
                <button class="btn btn-primary blue" ng-click="vm.distribute()"><i class="fa fa-plus"></i> 重新发放</button>
              
            </div>
        </div>
        <div class="row">
            <!-- 角色列表 -->
            <table object-table
                   data="vm.table.data"
                   check-model="vm.table.checkModel"
                   display="vm.table.pageConfig.itemsPerPage"
                   headers="广告资源包名称,广告资源名称,设备名称,设备归属,发放结果"
                   fields="packageName,resourceName,deviceName,deviceOrg,state">
                <tbody>
                    <tr ng-click="$owner.showeditinfo(item);setSelected(item)">
                        <td>
                            <input type="checkbox" ng-model="::item.checked"
                                   ng-click="$event.stopPropagation(); checkOne(item)" />
                        </td>
                        <td show-td item="item" name="packageName"></td>
                        <td show-td item="item" name="resourceName"></td>
                        <td show-td item="item" name="deviceName"></td>
                        <td show-td item="item" name="deviceOrg"></td>
                        <td >
                            <span ng-show="item.state==0">发放中</span>
                            <span ng-show="item.state==1">发放成功</span>
                        </td>
                   
                    </tr>
                </tbody>
            </table>
            <!--分页-->
            <nav class="paging">
                <obj-pagination conf="vm.table.pageConfig"></obj-pagination>
            </nav>

        </div>
    </div>
</div>